# PinAI Subnet Environment Configuration
# Copy this file to .env and fill in your values
# WARNING: Never commit .env file with real private keys!

# ============================================================
# PRIVATE KEYS (REQUIRED)
# ============================================================
# IMPORTANT: Use test-only private keys with NO real funds!

# Matcher/Test private key (used for matcher signing and test intent submissions)
TEST_PRIVATE_KEY=

# Validator private keys (comma-separated, required for running validators)
# Number of keys must match NUM_VALIDATORS
# Format: 64 hex characters without 0x prefix
# Generate: openssl rand -hex 32
# Example: VALIDATOR_KEYS=abc123...,def456...,ghi789...
VALIDATOR_KEYS=

# Validator public keys (comma-separated, required for consensus)
# Number of pubkeys must match NUM_VALIDATORS and VALIDATOR_KEYS
# Format: 130 hex characters starting with 04 (uncompressed ECDSA public key)
# Derive from private key: ./bin/derive-pubkey <private_key_hex>
# Example: VALIDATOR_PUBKEYS=040b7d...,04a1b2...,04f1e2...
VALIDATOR_PUBKEYS=

# ============================================================
# Consensus Configuration
# ============================================================
# Consensus type: "raft" or "cometbft"
CONSENSUS_TYPE=raft

# Number of validators to run
NUM_VALIDATORS=3

# ============================================================
# Subnet Configuration
# ============================================================
# Default Subnet ID (all validators use this unless VALIDATOR_SUBNET_IDS is set)
SUBNET_ID=0x0000000000000000000000000000000000000000000000000000000000000002

# Per-validator Subnet IDs (optional, comma-separated)
# If set, each validator uses its corresponding Subnet ID
# Example: VALIDATOR_SUBNET_IDS=0x...002,0x...009,0x...002
# VALIDATOR_SUBNET_IDS=

# Matcher Subnet ID (which subnet the matcher serves)
# MATCHER_SUBNET_ID=0x0000000000000000000000000000000000000000000000000000000000000002

# ============================================================
# RootLayer Endpoints
# ============================================================
ROOTLAYER_GRPC=3.17.208.238:9001
ROOTLAYER_HTTP=http://3.17.208.238:8081/api/v1

# ============================================================
# Blockchain Configuration (Base Sepolia)
# ============================================================
ENABLE_CHAIN_SUBMIT=true
CHAIN_RPC_URL=https://sepolia.base.org
CHAIN_NETWORK=base_sepolia

# ============================================================
# Smart Contract Addresses (Base Sepolia - Updated 2025-11-03)
# ============================================================
PIN_BASE_SEPOLIA_INTENT_MANAGER=0xB2f092E696B33b7a95e1f961369Bb59611CAd093
PIN_BASE_SEPOLIA_SUBNET_FACTORY=0x2b5D7032297Df52ADEd7020c3B825f048Cd2df3E
PIN_BASE_SEPOLIA_STAKING_MANAGER=0x7f887e88014e3AF57526B68b431bA16e6968C015
PIN_BASE_SEPOLIA_CHECKPOINT_MANAGER=0x6A61BA20D910576A6c0B39175A6CF98358bB4008

# Legacy addresses (Deprecated - Do not use)
# PIN_BASE_SEPOLIA_INTENT_MANAGER_OLD=0xD04d23775D3B8e028e6104E31eb0F6c07206EB46
# PIN_BASE_SEPOLIA_SUBNET_FACTORY_OLD=0x493c5B1c7Ee9eDe75bf2e57e5250E695F929A796
# PIN_BASE_SEPOLIA_STAKING_MANAGER_OLD=0xAc11AE66c7831A70Bea940b0AE16c967f940cB65
# PIN_BASE_SEPOLIA_CHECKPOINT_MANAGER_OLD=0xe947c9C4183D583fB2E500aD05B105Fa01abE57e

# ============================================================
# Optional Configuration
# ============================================================
# Log directory (default: ./subnet-logs)
# LOGS_DIR=./subnet-logs

# Test mode: true=background, false=foreground (default: false)
# TEST_MODE=false

# Start agent: if true, starts simple-agent; if false, skips agent (default: true)
# Set to false if you want to start your own agents separately
# START_AGENT=true

# ============================================================
# Usage Examples
# ============================================================
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Generate validator keys:
#    # Generate 3 private keys
#    PRIVKEY1=$(openssl rand -hex 32)
#    PRIVKEY2=$(openssl rand -hex 32)
#    PRIVKEY3=$(openssl rand -hex 32)
#
#    # Derive public keys
#    PUBKEY1=$(./bin/derive-pubkey $PRIVKEY1)
#    PUBKEY2=$(./bin/derive-pubkey $PRIVKEY2)
#    PUBKEY3=$(./bin/derive-pubkey $PRIVKEY3)
#
#    # Set in .env:
#    echo "VALIDATOR_KEYS=$PRIVKEY1,$PRIVKEY2,$PRIVKEY3" >> .env
#    echo "VALIDATOR_PUBKEYS=$PUBKEY1,$PUBKEY2,$PUBKEY3" >> .env
#
# 3. Fill in required values (TEST_PRIVATE_KEY and VALIDATOR_KEYS/PUBKEYS)
#    See docs/validator_keys_guide.zh.md for detailed instructions
#
# 4. Load environment:
#    set -a && source .env && set +a
#
# 5. Start subnet with Raft (3 validators):
#    ./scripts/start-subnet.sh
#
# 6. Start subnet with CometBFT (3 validators):
#    export CONSENSUS_TYPE=cometbft
#    ./scripts/start-subnet.sh
#
# 7. Start with different number of validators:
#    export NUM_VALIDATORS=5
#    export VALIDATOR_KEYS=key1,key2,key3,key4,key5
#    export VALIDATOR_PUBKEYS=pubkey1,pubkey2,pubkey3,pubkey4,pubkey5
#    ./scripts/start-subnet.sh
#
# 8. Run E2E test:
#    ./run-e2e.sh --no-interactive
#
# ============================================================
# Security Notes
# ============================================================
# ⚠️  NEVER commit private keys to git
# ⚠️  Use .env file (already in .gitignore)
# ⚠️  Use test-only keys with no real funds
# ⚠️  Rotate keys regularly in production
